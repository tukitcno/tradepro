{"ast":null,"code":"import React,{useState,useEffect}from'react';import Layout from'../components/Layout';import{useAuth}from'../components/AuthContext';import{useNavigate}from'react-router-dom';import axios from'axios';import io from'socket.io-client';import toast from'react-hot-toast';import LiveChart from'../components/LiveChart';import TradingSignals from'../components/TradingSignals';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user,API_URL,TRADERSX_TOKEN}=useAuth();const navigate=useNavigate();const[showLoginModal,setShowLoginModal]=useState(false);const[balance,setBalance]=useState(0);const[currentPrice,setCurrentPrice]=useState(1.2345);const[tradeAmount,setTradeAmount]=useState(10);const[tradeTime,setTradeTime]=useState(60);const[activeTimer,setActiveTimer]=useState(null);const[trades,setTrades]=useState([]);const[socket,setSocket]=useState(null);const[lastTradeResult,setLastTradeResult]=useState(null);const signalPairs=[{pair:'USD/ARS (OTC)',duration:15,time:'03:57:56'},{pair:'NZD/JPY (OTC)',duration:10,time:'03:57:56'},{pair:'Pfizer Inc (OTC)',duration:15,time:'03:57:56'},{pair:'Gold',duration:15,time:'03:57:56'},{pair:'USD/TRY (OTC)',duration:30,time:'03:57:56'},{pair:'Intel (OTC)',duration:10,time:'03:57:56'},{pair:'UKBrent (OTC)',duration:15,time:'03:57:56'},{pair:'CAD/JPY (OTC)',duration:10,time:'03:57:56'},{pair:'USD/CAD (OTC)',duration:5,time:'03:57:56'},{pair:'USD/EGP (OTC)',duration:10,time:'03:57:56'},{pair:'EUR/SGD (OTC)',duration:3,time:'03:57:56'}];const[selectedSignal,setSelectedSignal]=useState(signalPairs[0]);useEffect(()=>{fetchUserData();fetchTrades();// Connect with token for live trading\nconst newSocket=io(API_URL,{auth:{token:TRADERSX_TOKEN}});setSocket(newSocket);newSocket.on('priceUpdate',data=>{setCurrentPrice(data.price);});return()=>newSocket.close();},[API_URL,TRADERSX_TOKEN]);const fetchUserData=async()=>{if(!user)return;try{const response=await axios.get(\"\".concat(API_URL,\"/api/user/profile\"));setBalance(response.data.balance);}catch(error){console.error('Error fetching user data:',error);}};const fetchTrades=async()=>{if(!user)return;try{const response=await axios.get(\"\".concat(API_URL,\"/api/trades/my-trades\"));setTrades(response.data.trades);}catch(error){console.error('Error fetching trades:',error);}};const placeTrade=async direction=>{if(!user){setShowLoginModal(true);return;}if(tradeAmount>balance){toast.error('Insufficient balance');return;}try{const response=await axios.post(\"\".concat(API_URL,\"/api/trades/place\"),{amount:tradeAmount,direction,duration:tradeTime,entryPrice:currentPrice,token:TRADERSX_TOKEN});if(response.data.success){toast.success(\"\".concat(direction.toUpperCase(),\" trade placed!\"));setActiveTimer(tradeTime);fetchUserData();fetchTrades();// Start countdown\nconst interval=setInterval(()=>{setActiveTimer(prev=>{if(prev<=1){clearInterval(interval);fetchUserData();fetchTrades();return null;}return prev-1;});},1000);}}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Trade failed');}};// Pass trade handler to LiveChart\nconst handleLiveChartTrade=async _ref=>{let{amount,direction,duration,fiat}=_ref;if(!user){setShowLoginModal(true);return;}if(amount>balance){toast.error('Insufficient balance');return;}try{const tradeRes=await axios.post(\"\".concat(API_URL,\"/api/trades/place\"),{amount,direction,duration,fiat,token:TRADERSX_TOKEN});if(tradeRes.data.success){toast.success(\"\".concat(direction.toUpperCase(),\" trade placed!\"));setActiveTimer(duration);fetchUserData();fetchTrades();// Poll for trade result after expiry\nsetTimeout(async()=>{await fetchTrades();// Find the most recent trade for this user and fiat\nconst latest=trades.find(t=>t.fiat===fiat&&t.status!=='pending');if(latest)setLastTradeResult(latest);},duration*1000+1000);}}catch(err){var _err$response,_err$response$data;toast.error(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Trade failed');}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-1/4\",children:/*#__PURE__*/_jsx(TradingSignals,{signals:signalPairs,onSelect:setSelectedSignal})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#181c27] rounded-2xl shadow-lg p-6 flex flex-col gap-4 animate-fade-in\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-extrabold text-white mb-2 tracking-tight\",children:\"Live Trading\"}),/*#__PURE__*/_jsx(LiveChart,{onTrade:handleLiveChartTrade,lastTradeResult:lastTradeResult,selectedSignal:selectedSignal})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#23273a] rounded-2xl shadow-lg p-6 flex flex-col gap-4 animate-fade-in\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white mb-2\",children:\"Place Trade\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium mb-1 text-gray-300\",children:\"Amount ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:tradeAmount,onChange:e=>setTradeAmount(Number(e.target.value)),min:\"1\",max:balance,className:\"w-full px-3 py-2 border border-[#23273a] rounded-lg focus:ring-2 focus:ring-accent bg-[#181c27] text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium mb-1 text-gray-300\",children:\"Duration (seconds)\"}),/*#__PURE__*/_jsxs(\"select\",{value:tradeTime,onChange:e=>setTradeTime(Number(e.target.value)),className:\"w-full px-3 py-2 border border-[#23273a] rounded-lg focus:ring-2 focus:ring-accent bg-[#181c27] text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30 seconds\"}),/*#__PURE__*/_jsx(\"option\",{value:60,children:\"1 minute\"}),/*#__PURE__*/_jsx(\"option\",{value:120,children:\"2 minutes\"})]})]})]}),activeTimer?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-warning\",children:[\"Trade Active: \",activeTimer,\"s remaining\"]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>placeTrade('up'),className:\"bg-accent hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition-colors\",children:\"\\uD83D\\uDCC8 UP\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>placeTrade('down'),className:\"bg-danger hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg transition-colors\",children:\"\\uD83D\\uDCC9 DOWN\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#23273a] rounded-2xl shadow-lg p-6 animate-fade-in\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white mb-2\",children:\"Account Balance\"}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-accent\",children:[\"$\",balance.toFixed(2)]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg text-gray-400 mb-2\",children:\"Login to view balance\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/login'),className:\"bg-accent text-white px-4 py-2 rounded-lg\",children:\"Login\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#23273a] rounded-2xl shadow-lg p-6 animate-fade-in\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white mb-4\",children:\"Recent Trades\"}),user?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-64 overflow-y-auto\",children:trades.slice(0,5).map(trade=>{var _trade$payout;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 bg-[#181c27] rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-white\",children:[\"$\",trade.amount]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:trade.direction.toUpperCase()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold \".concat(trade.status==='won'?'text-accent':trade.status==='lost'?'text-danger':'text-warning'),children:trade.status==='pending'?'Active':trade.status==='won'?\"+$\".concat((_trade$payout=trade.payout)===null||_trade$payout===void 0?void 0:_trade$payout.toFixed(2)):\"-$\".concat(trade.amount)})]},trade.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-400\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Login to view your trades\"})})]})]})]})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Layout","useAuth","useNavigate","axios","io","toast","LiveChart","TradingSignals","jsx","_jsx","jsxs","_jsxs","Dashboard","user","API_URL","TRADERSX_TOKEN","navigate","showLoginModal","setShowLoginModal","balance","setBalance","currentPrice","setCurrentPrice","tradeAmount","setTradeAmount","tradeTime","setTradeTime","activeTimer","setActiveTimer","trades","setTrades","socket","setSocket","lastTradeResult","setLastTradeResult","signalPairs","pair","duration","time","selectedSignal","setSelectedSignal","fetchUserData","fetchTrades","newSocket","auth","token","on","data","price","close","response","get","concat","error","console","placeTrade","direction","post","amount","entryPrice","success","toUpperCase","interval","setInterval","prev","clearInterval","_error$response","_error$response$data","message","handleLiveChartTrade","_ref","fiat","tradeRes","setTimeout","latest","find","t","status","err","_err$response","_err$response$data","children","className","signals","onSelect","onTrade","type","value","onChange","e","Number","target","min","max","onClick","toFixed","slice","map","trade","_trade$payout","payout","id"],"sources":["E:/Aitrade/TRADEX/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Layout from '../components/Layout';\r\nimport { useAuth } from '../components/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport io from 'socket.io-client';\r\nimport toast from 'react-hot-toast';\r\nimport LiveChart from '../components/LiveChart';\r\nimport TradingSignals from '../components/TradingSignals';\r\n\r\nconst Dashboard = () => {\r\n  const { user, API_URL, TRADERSX_TOKEN } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [showLoginModal, setShowLoginModal] = useState(false);\r\n  const [balance, setBalance] = useState(0);\r\n  const [currentPrice, setCurrentPrice] = useState(1.2345);\r\n  const [tradeAmount, setTradeAmount] = useState(10);\r\n  const [tradeTime, setTradeTime] = useState(60);\r\n  const [activeTimer, setActiveTimer] = useState(null);\r\n  const [trades, setTrades] = useState([]);\r\n  const [socket, setSocket] = useState(null);\r\n  const [lastTradeResult, setLastTradeResult] = useState(null);\r\n\r\n  const signalPairs = [\r\n    { pair: 'USD/ARS (OTC)', duration: 15, time: '03:57:56' },\r\n    { pair: 'NZD/JPY (OTC)', duration: 10, time: '03:57:56' },\r\n    { pair: 'Pfizer Inc (OTC)', duration: 15, time: '03:57:56' },\r\n    { pair: 'Gold', duration: 15, time: '03:57:56' },\r\n    { pair: 'USD/TRY (OTC)', duration: 30, time: '03:57:56' },\r\n    { pair: 'Intel (OTC)', duration: 10, time: '03:57:56' },\r\n    { pair: 'UKBrent (OTC)', duration: 15, time: '03:57:56' },\r\n    { pair: 'CAD/JPY (OTC)', duration: 10, time: '03:57:56' },\r\n    { pair: 'USD/CAD (OTC)', duration: 5, time: '03:57:56' },\r\n    { pair: 'USD/EGP (OTC)', duration: 10, time: '03:57:56' },\r\n    { pair: 'EUR/SGD (OTC)', duration: 3, time: '03:57:56' },\r\n  ];\r\n  const [selectedSignal, setSelectedSignal] = useState(signalPairs[0]);\r\n\r\n  useEffect(() => {\r\n    fetchUserData();\r\n    fetchTrades();\r\n    // Connect with token for live trading\r\n    const newSocket = io(API_URL, { auth: { token: TRADERSX_TOKEN } });\r\n    setSocket(newSocket);\r\n    newSocket.on('priceUpdate', (data) => {\r\n      setCurrentPrice(data.price);\r\n    });\r\n    return () => newSocket.close();\r\n  }, [API_URL, TRADERSX_TOKEN]);\r\n\r\n  const fetchUserData = async () => {\r\n    if (!user) return;\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/user/profile`);\r\n      setBalance(response.data.balance);\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n    }\r\n  };\r\n\r\n  const fetchTrades = async () => {\r\n    if (!user) return;\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/trades/my-trades`);\r\n      setTrades(response.data.trades);\r\n    } catch (error) {\r\n      console.error('Error fetching trades:', error);\r\n    }\r\n  };\r\n\r\n  const placeTrade = async (direction) => {\r\n    if (!user) {\r\n      setShowLoginModal(true);\r\n      return;\r\n    }\r\n    if (tradeAmount > balance) {\r\n      toast.error('Insufficient balance');\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/trades/place`, {\r\n        amount: tradeAmount,\r\n        direction,\r\n        duration: tradeTime,\r\n        entryPrice: currentPrice,\r\n        token: TRADERSX_TOKEN\r\n      });\r\n      if (response.data.success) {\r\n        toast.success(`${direction.toUpperCase()} trade placed!`);\r\n        setActiveTimer(tradeTime);\r\n        fetchUserData();\r\n        fetchTrades();\r\n        // Start countdown\r\n        const interval = setInterval(() => {\r\n          setActiveTimer(prev => {\r\n            if (prev <= 1) {\r\n              clearInterval(interval);\r\n              fetchUserData();\r\n              fetchTrades();\r\n              return null;\r\n            }\r\n            return prev - 1;\r\n          });\r\n        }, 1000);\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Trade failed');\r\n    }\r\n  };\r\n\r\n  // Pass trade handler to LiveChart\r\n  const handleLiveChartTrade = async ({ amount, direction, duration, fiat }) => {\r\n    if (!user) {\r\n      setShowLoginModal(true);\r\n      return;\r\n    }\r\n    if (amount > balance) {\r\n      toast.error('Insufficient balance');\r\n      return;\r\n    }\r\n    try {\r\n      const tradeRes = await axios.post(`${API_URL}/api/trades/place`, {\r\n        amount,\r\n        direction,\r\n        duration,\r\n        fiat,\r\n        token: TRADERSX_TOKEN\r\n      });\r\n      if (tradeRes.data.success) {\r\n        toast.success(`${direction.toUpperCase()} trade placed!`);\r\n        setActiveTimer(duration);\r\n        fetchUserData();\r\n        fetchTrades();\r\n        // Poll for trade result after expiry\r\n        setTimeout(async () => {\r\n          await fetchTrades();\r\n          // Find the most recent trade for this user and fiat\r\n          const latest = trades.find(t => t.fiat === fiat && t.status !== 'pending');\r\n          if (latest) setLastTradeResult(latest);\r\n        }, duration * 1000 + 1000);\r\n      }\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Trade failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"flex flex-col lg:flex-row gap-8\">\r\n        {/* Sidebar: Trading Signals */}\r\n        <div className=\"w-full lg:w-1/4\">\r\n          <TradingSignals signals={signalPairs} onSelect={setSelectedSignal} />\r\n        </div>\r\n        {/* Main Trading Area */}\r\n        <div className=\"flex-1 flex flex-col gap-8\">\r\n          {/* Live Chart */}\r\n          <div className=\"bg-[#181c27] rounded-2xl shadow-lg p-6 flex flex-col gap-4 animate-fade-in\">\r\n            <h1 className=\"text-3xl font-extrabold text-white mb-2 tracking-tight\">Live Trading</h1>\r\n            <LiveChart onTrade={handleLiveChartTrade} lastTradeResult={lastTradeResult} selectedSignal={selectedSignal} />\r\n          </div>\r\n          {/* Trading Controls & Info */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n            {/* Trading Controls */}\r\n            <div className=\"bg-[#23273a] rounded-2xl shadow-lg p-6 flex flex-col gap-4 animate-fade-in\">\r\n              <h3 className=\"text-lg font-bold text-white mb-2\">Place Trade</h3>\r\n              <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                <div>\r\n                  <label className=\"block text-xs font-medium mb-1 text-gray-300\">Amount ($)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={tradeAmount}\r\n                    onChange={(e) => setTradeAmount(Number(e.target.value))}\r\n                    min=\"1\"\r\n                    max={balance}\r\n                    className=\"w-full px-3 py-2 border border-[#23273a] rounded-lg focus:ring-2 focus:ring-accent bg-[#181c27] text-white\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-xs font-medium mb-1 text-gray-300\">Duration (seconds)</label>\r\n                  <select\r\n                    value={tradeTime}\r\n                    onChange={(e) => setTradeTime(Number(e.target.value))}\r\n                    className=\"w-full px-3 py-2 border border-[#23273a] rounded-lg focus:ring-2 focus:ring-accent bg-[#181c27] text-white\"\r\n                  >\r\n                    <option value={30}>30 seconds</option>\r\n                    <option value={60}>1 minute</option>\r\n                    <option value={120}>2 minutes</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              {activeTimer ? (\r\n                <div className=\"text-center py-4\">\r\n                  <div className=\"text-2xl font-bold text-warning\">\r\n                    Trade Active: {activeTimer}s remaining\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <button\r\n                    onClick={() => placeTrade('up')}\r\n                    className=\"bg-accent hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition-colors\"\r\n                  >\r\n                    ðŸ“ˆ UP\r\n                  </button>\r\n                  <button\r\n                    onClick={() => placeTrade('down')}\r\n                    className=\"bg-danger hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg transition-colors\"\r\n                  >\r\n                    ðŸ“‰ DOWN\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {/* Account Balance & Recent Trades */}\r\n            <div className=\"flex flex-col gap-8\">\r\n              {/* Balance */}\r\n              <div className=\"bg-[#23273a] rounded-2xl shadow-lg p-6 animate-fade-in\">\r\n                <h3 className=\"text-lg font-bold text-white mb-2\">Account Balance</h3>\r\n                {user ? (\r\n                  <div className=\"text-3xl font-bold text-accent\">${balance.toFixed(2)}</div>\r\n                ) : (\r\n                  <div className=\"text-center py-4\">\r\n                    <div className=\"text-lg text-gray-400 mb-2\">Login to view balance</div>\r\n                    <button \r\n                      onClick={() => navigate('/login')}\r\n                      className=\"bg-accent text-white px-4 py-2 rounded-lg\"\r\n                    >\r\n                      Login\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              {/* Recent Trades */}\r\n              <div className=\"bg-[#23273a] rounded-2xl shadow-lg p-6 animate-fade-in\">\r\n                <h3 className=\"text-lg font-bold text-white mb-4\">Recent Trades</h3>\r\n                {user ? (\r\n                  <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n                    {trades.slice(0, 5).map((trade) => (\r\n                      <div key={trade.id} className=\"flex justify-between items-center p-2 bg-[#181c27] rounded\">\r\n                        <div>\r\n                          <div className=\"font-medium text-white\">${trade.amount}</div>\r\n                          <div className=\"text-xs text-gray-400\">\r\n                            {trade.direction.toUpperCase()}\r\n                          </div>\r\n                        </div>\r\n                        <div className={`font-bold ${\r\n                          trade.status === 'won' ? 'text-accent' : \r\n                          trade.status === 'lost' ? 'text-danger' : 'text-warning'\r\n                        }`}>\r\n                          {trade.status === 'pending' ? 'Active' : \r\n                           trade.status === 'won' ? `+$${trade.payout?.toFixed(2)}` : \r\n                           `-$${trade.amount}`}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-8 text-gray-400\">\r\n                    <p>Login to view your trades</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}